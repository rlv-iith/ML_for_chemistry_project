\# üîã Data-Driven Battery Cycle Life Prediction



!\[Python](https://img.shields.io/badge/Python-3.8%2B-blue)

!\[Machine Learning](https://img.shields.io/badge/ML-ElasticNet-green)

!\[Status](https://img.shields.io/badge/Status-Success-brightgreen)



\## üìå Project Overview

This project replicates the "End-of-Life" (EOL) prediction capabilities demonstrated in the Nature Energy paper: \*Data-driven prediction of battery cycle life before capacity degradation (Severson et al., 2019)\*.



Using only data from the \*\*first 100 charge/discharge cycles\*\*, this Machine Learning model predicts the total lifespan of Lithium-Ion batteries (which typically ranges from 500 to 2000+ cycles).



\*\*Key Technical Challenge:\*\*

The dataset consists of huge MATLAB files (GBs of voltage curves). This project demonstrates an optimized \*\*Lightweight Approach\*\*:

1\. Extraction of "Summary Statistics" (Capacity \& Resistance) rather than raw waveforms.

2\. Signal Processing (Smoothing) to handle sensor noise in older battery testers.

3\. Feature Engineering based on electrochemical degradation physics.



\## üìä Results \& Performance



| Metric | Result | Notes |

| :--- | :--- | :--- |

| \*\*Model Type\*\* | ElasticNet Regression | Linear model with Regularization (L1/L2) |

| \*\*Input Data\*\* | Cycles 10 to 100 | Early-life data only |

| \*\*$R^2$ Score\*\* | \*\*0.61\*\* | Strong predictive power using only Summary Data |

| \*\*RMSE\*\* | \*\*~275 Cycles\*\* | Average prediction error |



\*Note: The original paper achieved $R^2=0.91$ by processing 10GB+ of raw voltage curves. Achieving 0.61 with only 3MB of capacity data confirms that standard lab measurements are sufficient for reasonable estimation.\*



---



\## üõ†Ô∏è Installation \& Setup



\### 1. Clone the Repository

```bash

git clone https://github.com/<YOUR\_USERNAME>/battery-eol-prediction.git

cd battery-eol-prediction



2\. Install Dependencies

You need standard Data Science libraries:

code

Bash

pip install numpy pandas matplotlib seaborn scikit-learn h5py

3\. ‚ö†Ô∏è Download Data (Crucial Step)

Due to GitHub file size limits, the raw data is not included in this repo.

Go to the Toyota/Stanford Data Portal.

Download these 3 files:

2017-05-12\_batchdata\_updated\_struct\_errorcorrect.mat (Batch 1)

2017-06-30\_batchdata\_updated\_struct\_errorcorrect.mat (Batch 2)

2018-04-12\_batchdata\_updated\_struct\_errorcorrect.mat (Batch 3)

Create a folder named raw\_data in this directory and move the files there.

File Structure should look like this:

code

Text

battery-eol-prediction/

‚îú‚îÄ‚îÄ raw\_data/                 <-- You create this

‚îÇ   ‚îú‚îÄ‚îÄ 2017-05-12\_....mat

‚îÇ   ‚îú‚îÄ‚îÄ 2017-06-30\_....mat

‚îÇ   ‚îî‚îÄ‚îÄ 2018-04-12\_....mat

‚îú‚îÄ‚îÄ 01\_process\_data.py

‚îú‚îÄ‚îÄ 02\_train\_model.py

‚îî‚îÄ‚îÄ README.md

üöÄ How to Run

Step 1: Process Raw Data

Extracts the nested HDF5/MATLAB pointers, cleans the data, and merges all 3 batches.

code

Bash

python 01\_process\_data.py

Output: battery\_data\_combined.csv (Approx 3MB).

Step 2: Train \& Visualize

Calculates physics-based features, applies Rolling Mean smoothing, trains the ElasticNet model, and saves graphs.

code

Bash

python 02\_train\_model.py

Output: A results/ folder containing performance graphs.

üß™ Methodology \& Feature Engineering

We use a feature-based approach. Instead of feeding raw numbers into the AI, we calculate properties known to correlate with chemical degradation:

Log(

Œî

Œî

Q): The difference in discharge capacity between Cycle 100 and Cycle 10. (Log scale applied as degradation follows a power law).

Curvature: How "curved" is the degradation line?

Calculated as: 

Q

55

‚àí

LinearAvg

(

Q

10

,

Q

100

)

Q 

55

‚Äã

&nbsp;‚àíLinearAvg(Q 

10

‚Äã

&nbsp;,Q 

100

‚Äã

&nbsp;)

.

Internal Resistance: Value at cycle 100.

The "Sensor Noise" Solution:

Batch 1 (2017-05-12) has significant sensor jitter. We implemented a Rolling Mean (Window=9) pre-processing step. Without this, the model fails (

R

2

<

0

R 

2

&nbsp;<0

). With smoothing, the signal emerges clearly.

üìà Visualizations

Graphs generated by 02\_train\_model.py

1\. Predicted vs Actual Life

Demonstrates the model's ability to distinguish between short-lived (500 cycles) and long-lived (2000 cycles) batteries.

!\[alt text](results/2\_prediction.png)

2\. Capacity Fade Curves

Visualizing the degradation path of the batteries in the dataset. Red = Short life, Blue = Long life.

!\[alt text](results/1\_curves.png)

üìú References

This project reproduces the concepts found in:

Severson, K.A., Attia, P.M., Jin, N. et al. "Data-driven prediction of battery cycle life before capacity degradation." Nat Energy 4, 383‚Äì391 (2019).

